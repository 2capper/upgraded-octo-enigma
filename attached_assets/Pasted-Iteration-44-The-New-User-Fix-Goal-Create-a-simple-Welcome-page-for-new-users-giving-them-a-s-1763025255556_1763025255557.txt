Iteration 44: The "New User" Fix
Goal: Create a simple "Welcome" page for new users, giving them a single, clear path to create their own organization.

Your Mandate (Backend/Routing):

Find your "Login" Logic: In your backend or frontend, find the code that runs after a user successfully logs in (e.g., in your auth context or your login API endpoint).

Add the Redirect: You need to add a check.

JavaScript

// This is pseudocode for your auth-loading component

const { user, isLoading } = useAuth();

if (isLoading) {
  return <LoadingSpinner />;
}

// --- THIS IS THE FIX ---
// If the user is logged in, but has no org,
// and they are NOT already on the 'welcome' page...
if (user && !user.organizationId && window.location.pathname !== '/welcome') {
  // Force them to the new welcome page.
  navigate('/welcome');
  return null;
}
// --- END FIX ---

// If they have an org, continue to the main app...
return <Dashboard />;
Your Mandate (Frontend):

Create the New Page: Create a new file, e.g., src/pages/Welcome.tsx.

Build the Simple UI: This page should be clean, simple, and have one call to action.

JavaScript

// src/pages/Welcome.tsx
import { useNavigate } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';

export function WelcomePage() {
  const navigate = useNavigate();

  const handleCreateOrg = () => {
    // Navigate to the *existing* page where an admin can create an org.
    // This URL might be /admin/org-settings or /create-organization
    navigate('/admin/org-settings'); 
  };

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <Card className="w-full max-w-lg">
        <CardHeader>
          <CardTitle className="text-2xl">Welcome to Dugout Desk!</CardTitle>
          <CardDescription>
            The all-in-one app for managing your youth sports league or tournament.
          </CardDescription>
        </CardHeader>
        <CardContent>
          <p className="mb-6 text-gray-700">
            You're not part of an organization yet. To get started, you must create one for your
            league or tournament.
          </p>

          <Button 
            onClick={handleCreateOrg} 
            className="w-full text-lg py-6"
            data-testid="button-create-org"
          >
            Create Your Organization
          </Button>

          {/* We are INTENTIONALLY not adding:
            - "Find an Organization"
            - "Request Access"
            - "Join with Invite Code"
            Those are all V2.0 features.
          */}
        </CardContent>
      </Card>
    </div>
  );
}
3. Post-Check: Validate the New User Flow

Log out of the app completely.

Sign up as a brand new user (e.g., test-user-1@gmail.com).

Confirm: After your first-ever login, you are immediately redirected to this new /welcome page.

Confirm: The only action you can take is to click the "Create Your Organization" button.

Confirm: Clicking that button takes you to the correct admin page to create your new org.

Once you've built this simple "on-ramp," your V1.0 app is officially ready. You can hand it over to your "friendly tester" with confidence that they can actually log in and start the UAT script.

Let me know when you've got this "Welcome" page built.